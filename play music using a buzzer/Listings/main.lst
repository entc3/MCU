C51 COMPILER V9.54   MAIN                                                                  12/03/2025 06:50:20 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: D:\QRT-2\KEIL5\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\
                    -main.lst) TABS(2) OBJECT(.\Objects\main.obj)

line level    source

   1          #include <STC89C5xRC.H>
   2          #include "Delay.h"
   3          #include "Timer0.h"
   4          #include "Nixie.h"
   5          #include "Buzzer.h"
   6          //Frequency é¢‘ç‡   FreqTable
   7          
   8          //å®å®šä¹‰
   9          sbit Buzzer = P2^5;
  10          #define Speed    100      //ç”±äºå•ç‰‡æœºæœ¬èº«è¿è¡Œä»£ç äº§ç”Ÿçš„å»¶è¿Ÿï¼Œç¨‹åºä¸­éŸ³ç¬¦çš„æ—¶é•¿å¹¶
             -æœªä¸ç®€è°±ä¸­çš„120å¯¹åº”ï¼Œè€Œæ˜¯é‡‡ç”¨100ä»¥ä¾¿ä¸ç°æœªé—»èŠ±åä¸­æ–‡æ­Œæ›²èŠ‚å¥å¯¹åº”
  11          #define Z    0
  12          #define L5    1
  13          #define L5_    2
  14          #define L6    3
  15          #define L6_    4
  16          #define L7    5
  17          #define M1    6
  18          #define M1_    7
  19          #define M2    8
  20          #define M2_    9                  //è¿éŸ³ç¬¦ï¼Œåˆå¹¶åé‡æ–°æŒ‰é”®
  21          #define M3    10
  22          #define M4   11
  23          #define M4_    12
  24          #define M5    13
  25          #define M5_    14
  26          #define M6    15
  27          #define M6_   16
  28          #define M7    17
  29          #define H1    18
  30          #define H1_    19
  31          #define H2    20
  32          #define H2_    21
  33          #define H3    22
  34          #define H4   23
  35          #define H4_    24
  36          #define H5    25
  37          #define H5_    26
  38          #define H6    27
  39          #define H6_    28
  40          #define H7    29
  41          #define HH1    30
  42          #define HH1_    31
  43          
  44          
  45          //å…¨å±€å˜é‡å®šä¹‰
  46          unsigned char FreqSelect;
  47          unsigned int MusicSelect;               //å› ä¸ºMusicæ•°ç»„å·¨å¤§ï¼Œæ‰€ä»¥MusicSelectå¿…é¡»ä½¿ç”¨å…¨å±€å˜
             -é‡ï¼Œå¦åˆ™ä¼šå› ä¸ºæº¢å‡ºä¸æ–­å¾ªç¯
  48          unsigned int FreqTable[] = {0,64185,64260,64332,64400,64463,64524,64580,64634,64685,64732,64778,64820,6486
             -0,64898,64934, 
  49                                   64968,65000,65030,65058,65085,65110,65134,65157,65178,65198,65217,65235,65252,652
             -68,65283,65297,0xFF};
  50          //æ•°ç»„ä¹‹é—´çš„æ•°æ®éœ€è¦é‡æ–°é€šè¿‡å®šä¹‰ä¸¤ä¸ªå˜é‡ï¼Œç„¶åé€šè¿‡ä¸¤ä¸ªå˜é‡æ‰èƒ½è¿›è¡Œä¼ é€’
C51 COMPILER V9.54   MAIN                                                                  12/03/2025 06:50:20 PAGE 2   

  51          //unsigned char code Music[] = {Z,2,M5,2,H1,3,H2,1,H2,2,H3,2,H3,4,H3,3,H3,1,H3,2,H3,2,H3,2,H2,2,H2,2,H2,2,
             -H2,2,H2,2,Z,2,H2,2,H2,2,H1,2,H1,2,H1,2,H1,3,H1,1,H1,2,H1,2,
  52          //H1,2,M5,2,M5,2,M5,2,Z,2,M5,2,H1,3,H2,1,H2,2,H3,2,H3,2,H3,2,H3,2,H3,2,H5,2,H5,2,H3,2,H3,3,H3,1,H3,3,H3,1,
             -H2,2,H1,2,H2,2,H3,3,H3,1,H3,2,H3,2,0xFF
  53          //};                         //é¿å…æ— é™åˆ¶++ä¹‹åå‘ç”Ÿæ•°ç»„æº¢å‡ºçš„é—®é¢˜ï¼Œåœ¨æ•°ç»„åé¢åŠ å…¥æ ‡å¿—ä½
  54          
  55                                   
  56          //ç›¸å…³ç®€è°±é¢‘ç‡å’Œæ—¶é•¿ï¼Œå…±3é¡µ                        
  57          //ç¬¬ä¸€é¡µéŸ³ç¬¦çš„é¢‘ç‡å’Œæ—¶é•¿æ•°æ®
  58          unsigned int code Music[] = {Z,2,M5,2,H1,3,H2,1,H2,2,H3,2,H3,4,H3,3,H3,3,H3,4,H3,2,H2,2,H2,2,H2,2,H2,2,H2,
             -2,Z,2,H2,4,H1,2,H1,2,H1,2,H1,3,H1,3,H1,4,
  59          M5,2,M5,2,M5,2,Z,2,M5,2,H1,3,H2,1,H2,2,H3,2,H3,2,H3,2,H3,2,H3,2,H5,4,H3,2,H3,3,H3,1,H3,3,H3,1,H2,2,H1,2,H2
             -,4,H3,3,H3,17,
  60          Z,4,H2,2,H3,2,H2,2,H1,3,H1,14,Z,4,Z,4,H2,2,H3,2,H2,4,H1,2,H1,14,H1,4,H1,4,H1,4,H3,4,H3,4,H3,4,H3,4,
  61          H3,4,H3,4,H3,4,H3,4,H3,4,H3,4,H3,4,H3,4,H2,4,H2,4,M5,4,M5,4,H3,4,H3,4,H3,4,H3,4,H2,4,H2,4,H2,4,H2,4,H3,4,H
             -3,4,H3,4,H3,4,H3,4,H3,4,H3,4,H3,4,
  62          
  63          Z,4,Z,4,Z,4,Z,4,Z,4,Z,4,Z,4,Z,4,H1,2,H1,2,H1,2,H1,2,H1,2,H1,2,H1,2,H1,2,H1,4,M7,2,M5,6,Z,2,M5,2,
  64          H1,2,H1,2,H1,2,H1,2,H1,2,H1,2,H1,2,H1,2,H1,2,M7,2,M7,2,M5,6,Z,2,M5,2,H1,2,H1,2,H1,2,H1,2,H1,2,H1,2,H1,2,H1
             -,2,H2,2,M5,4,M5,6,M5,2,M3,2,
  65          M5,4,M6,2,M6,6,Z,4,Z,4,Z,4,Z,4,Z,4,H1,2,H1,2,H1,2,H1,2,H1,2,H1,2,H1,4,H1,4,M7,2,M5,6,Z,2,M5,2,
  66          H1,2,H1,2,H1,2,H1,2,H1,2,H1,2,H1,2,H1,2,H1,2,H1,2,M7,2,M5,6,Z,4,H1,2,H1,2,H1,2,H1,2,H1,2,H1,2,H1,2,H1,2,H2
             -,2,M5,4,M5,4,M5,2,M5,2,M3,2,
  67          
  68          M5,2,M6,4,M6,6,M6,4,Z,4,Z,4,Z,4,Z,4,M6,4,M6,4,Z,2,M6,2,M6,2,M5,2,M6,2,M7,2,M7,2,M7,4,M7,2,M7,2,M6,2,
  69          M7,2,H1,2,H1,2,H1,4,M5,4,M3,2,M5,2,M6,2,M6,2,M6,6,Z,4,M6,4,M6,4,Z,2,M6,2,M6,2,M5,2,M6,2,M7,2,M7,2,M7,4,M7,
             -2,M7,2,M6,2,
  70          M7,2,M7,2,H1,2,H1,14,H1,4,Z,4,H2,2,H3,2,H2,4,H1,2,M6,6,H2,2,H3,2,H2,3,H1,3,M6,6,H2,2,H3,2,
  71          H2,3,H1,3,M5,4,M5,2,M5,2,M3,2,M5,2,M6,2,M6,2,M6,6,H3,4,H2,3,H1,3,M6,6, H2,2,H3,2,H2,3,H1,3,M6,2,M6,2,M6,2,
             -H1,4,H2,2,
  72          //ç¬¬äºŒé¡µéŸ³ç¬¦çš„é¢‘ç‡å’Œæ—¶é•¿æ•°æ® 
  73          H1,20,H1,4,Z,2,M5,2,H1,3,H2,1,H2,2,H3,2,H3,4,H3,3,H3,3,H3,4,H3,2,H2,2,H2,2,H2,2,H2,2,H2,2,Z,2,H2,4,
  74          H1,2,H1,2,H1,2,H1,3,H1,3,H1,4,M5,2,M5,2,M5,2,Z,2,M5,2,H1,3,H2,1,H2,2,H3,2,H3,2,H3,2,H3,2,H3,2,H5,4,
  75          H3,2,H3,3,H3,1,H3,3,H3,1,H2,2,H1,2,H2,4,H3,3,H3,17,Z,2,M5,2,H1,2,H2,1,H2,2,H3,2,H3,2,H3,2,H3,2,H3,2,H3,2,H
             -3,2,
  76          H2,2,H2,2,H2,4,H2,2,H2,2,H2,2,H2,2,H2,2,H1,2,H1,2,H1,2,H1,2,H1,4,H1,4,M5,2,M5,2,M5,4,M5,2,H1,2,H2,1,
  77          
  78          H2,2,H3,2,H3,2,H3,2,H3,2,H3,2,H3,2,H5,2,Z,2,H3,2,H3,2,H3,2,H3,2,H3,2,H2,2,H1,2,H2,4,H3,2,H3,13,H3,4,Z,4,H2
             -,2,H3,2,
  79          H2,2,H1,4,H1,14,H1,4,Z,4,H2,2,H3,2,H2,2,H1,4,H1,14,H1,4,H1,4,H1,4,M6,4,M6,4,Z,2,M6,2,M6,2,M5,2,
  80          M6,2,M7,2,M7,2,M7,4,M7,2,M7,2,M6,2,M7,2,H1,2,H1,2,H1,4,M5,4,M3,2,M5,2,M6,2,M6,2,M6,6,Z,4,M6,4,M6,4,Z,2,M6,
             -2,M6,2,M5,2,
  81          M6,2,M7,2,M7,2,M7,4,M7,2,M7,2,M6,2,M7,2,M7,2,H1,2,H1,14,H1,4,Z,4,H2,2,H3,2,H2,3,H1,3,M6,6,H2,2,H3,2, 
  82          
  83          H2,3,H1,3,M6,6,H2,2,H3,2,H2,3,H1,3,M5,6,M5,2,M3,2,M5,2,M6,2,M6,2,M6,2,M6,4,H3,4,H2,3,H1,3,M6,6,H2,2,H3,2,
  84          H2,2,H1,4,M6,2,M6,2,M6,2,H1,4,H1,20,H1,4,Z,2,M5,2,H1,3,H2,1,H2,2,H3,2,H3,2,H3,2,H3,2,H3,2,H3,2,H3,2,
  85          H2,2,H2,2,H2,4,H2,2,H2,2,H2,2,H2,2,H2,2,H1,2,H1,2,H1,2,H1,2,H1,4,H1,4,M5,2,M5,2,M5,4,M5,2,H1,3,H2,1,
  86          H2,2,H3,2,H3,2,H3,2,H3,2,H3,2,H3,2,H5,2,Z,2,H3,2,H3,2,H3,2,H3,2,H3,2,H2,2,H1,2,H2,4,H3,3,H3,13,H3,4,Z,2,M5
             -,2,H2,2,H3,2,
  87          H2,3,H1,17,H1,4,Z,4,H2,2,H3,2,H2,3,H1,3,H1,14,H1,4,H1,4,H2,4,H2,4,H2,4,H1,4,M7,4,M7,4,M7,4,M6,6,M6,2,
  88          //ç¬¬ä¸‰é¡µéŸ³ç¬¦çš„é¢‘ç‡å’Œæ—¶é•¿æ•°æ®
  89          M5,20,M5,4,M5,4,M5,4,M6,4,M6,4,M6,4,M6,4,M7,4,M7,4,M7,4,M7,4,H1,20,H1,4,Z,4,Z,4,H2,4,H2,4,H2,4,H1,4,M7,4,M
             -7,4,M6,6,M7,2,
  90          M5,20,M5,4,Z,4,M5,2,M3,2,M5,2,M6,2,M6,2,M6,4,M6,4,M5,2,M6,2,M7,2,M7,2,M7,4,M7,2,M7,2,M6,2,
  91          M7,2,M7,2,H1,2,H1,4,H3,2,H2,2,H1,2,H2,3,H3,3,H3,6,H2,2,H3,2,H2,4,H3,2,M6,6,H2,2,H3,2,H2,3,H1,3,M6,2,M6,2,M
             -6,2,H2,4,H1,20,
  92          H1,4,Z,2,M5,2,H1,3,H2,1,H2,2,H3,2,H3,4,H3,2,H3,4,H3,4,H2,2,H2,2,H2,2,H1,2,H2,4,H2,4,H1,2,H1,2,H1,2,H1,2,H1
             -,2,H1,2,H1,2,
  93          
  94          H1,2,M5,2,M5,2,M5,2,M5,2,M5,2,H1,3,H2,1,H2,2,H3,2,H3,2,H3,2,H3,2,H3,2,H3,2,H5,4,H3,2,H3,2,H3,2,H3,2,H3,2,H
             -2,2,H1,2,H2,4,H3,3,H3,13,
  95          H3,4,Z,2,M5,2,H1,3,H2,1,H2,2,H3,2,H3,2,H3,2,H3,2,H3,2,H3,2,H3,2,H2,2,H2,2,H2,2,H2,4,H2,2,H2,2,H2,4,H1,2,H1
C51 COMPILER V9.54   MAIN                                                                  12/03/2025 06:50:20 PAGE 3   

             -,2,H1,2,H1,2,H1,4,H1,4,
  96          M5,2,M5,2,M5,4,M5,2,H1,3,H2,1,H2,2,H3,2,H3,2,H3,2,H3,2,H3,2,H3,2,H5,2,Z,2,H3,2,H3,2,H3,2,H3,2,H3,2,H2,2,H1
             -,2,H2,3,H3,3,H3,14,
  97          H3,4,Z,2,M5,2,H1,3,H2,1,H2,2,H3,2,H3,4,H3,3,H3,3,H3,4,H2,2,H2,2,H2,2,H1,2,H2,2,H2,6,H1,2,H1,2,H1,2,H1,2,H1
             -,4,H1,4,
  98          
  99          M5,2,M5,2,M5,4,M5,2,H1,3,H2,1,H2,2,H3,2,H3,2,H3,2,H3,2,H3,2,H3,2,H5,2,Z,2,H3,2,H3,2,H3,2,H3,2,H3,2,H2,2,H1
             -,2,H2,4,H3,3,H3,13,
 100          H3,4,Z,2,M5,2,H1,2,H2,1,H2,2,H3,2,H3,2,H3,2,H3,2,H3,2,H3,2,H3,2,H2,2,H2,2,H2,4,H2,2,H2,2,H2,2,H2,2,H2,2,H1
             -,2,H1,2,H1,2,H1,2,H1,4,H1,4,
 101          M5,2,M5,2,M5,4,M5,2,H1,2,H2,1,H2,2,H3,2,H3,2,H3,2,H3,2,H3,2,H3,2,H5,2,Z,2,H3,2,H3,2,H3,2,H3,2,H3,2,H2,2,H1
             -,2,H2,4,H3,2,H3,13,
 102          H3,4,Z,4,H2,2,H3,2,H2,3,H1,3,H1,14,H1,4,Z,4,H2,2,H3,2,H2,3,H1,3,H1,14,H1,4,Z,4,H2,2,H3,2,
 103          H2,3,H1,3,H1,14,H1,4,Z,4,H2,2,H3,2,H2,4,H1,4,H1,28,H1,4,H1,4,H1,4,
 104          0xFF};                          //è¿™ä¸€ç»„æ•°æ®ç›¸æ¯”ä¸Šä¸€ç»„æ•°æ®è€ƒè™‘äº†è¿éŸ³ç¬¦ï¼Œå‘³é“æ¯”è¾ƒæ ‡å
             -‡†
 105          //ç¼ºç‚¹ï¼Œå¦‚æœè¿éŸ³çº¿è¿æ¥çš„æ˜¯ä¸åŒéŸ³é«˜çš„éŸ³ï¼Œé‚£ä¹ˆè¿™äº›éŸ³éœ€è¦è¢«è¿è´¯åœ°æ¼”å¥ï¼Œä½†æ˜
             -¯åœ¨æœ¬ç¨‹åºä¸­æœªèƒ½å®ç°
 106          //(å› ä¸ºéœ€è¦å•ç‹¬ç¦æ­¢å…³é—­TR0ï¼Œéœ€è¦å¦å¤–åœ¨æ•°ç»„ä¸­è®¾ç½®æ ‡å¿—ä½ï¼Œä½†æ˜¯æœ¬ç®€è°±ä¸­ç›¸å…³è
             -¿éŸ³ç¬¦ä»…æœ‰ä¸¤å¤„)
 107          
 108          
 109          //ä¸»å‡½æ•°
 110          void main()
 111          {
 112   1        Timer0_Init();
 113   1        while(1 < 2)
 114   1        {
 115   2          if(Music[MusicSelect]!=0xFF)
 116   2          {
 117   3            FreqSelect = Music[MusicSelect];
 118   3            MusicSelect++;
 119   3            Delay(Speed*Music[MusicSelect]);         //éŸ³ç¬¦ç”±é¢‘ç‡å’Œæ—¶é•¿ç»„æˆï¼Œè¿™ä¸€éƒ¨åˆ†ä¸­æ–­æ˜¯ç”¨æ¥
             -ä¹¦å†™éŸ³ç¬¦å»¶è¿Ÿçš„
 120   3            MusicSelect++;
 121   3            TR0 = 0;
 122   3            Delay(10);
 123   3            TR0 = 1;
 124   3          }
 125   2          else
 126   2          {
 127   3            TR0 = 0;                                 //ä¿è¯ç»“æŸåä¸ä¼šå†å¯ç”¨èœ‚é¸£å™¨
 128   3          }
 129   2        }
 130   1      }
 131          
 132          
 133          
 134          //ä¸­æ–­å‡½æ•°
 135          void time0_Routine() interrupt 1  
 136          { 
 137   1        if(FreqTable[FreqSelect])                //é¿å…ä¼‘æ­¢ç¬¦çš„åŠ å…¥å½±å“ä¸­æ–­
 138   1        {
 139   2          TL0 = FreqTable[FreqSelect] % 256;
 140   2          TH0 = FreqTable[FreqSelect] / 256;         //éŸ³ç¬¦ç”±é¢‘ç‡å’Œæ—¶é•¿ç»„æˆï¼Œè¿™ä¸€éƒ¨åˆ†ä¸­æ–­æ˜¯ç”¨æ
             -¥ä¹¦å†™éŸ³ç¬¦é¢‘ç‡çš„          
 141   2      //    TL0 = FreqTable[FreqSelect] % 256;
 142   2      //Delay(1000);             å°½é‡é¿å…å°†å»¶æ—¶å‡½æ•°æ”¾åˆ°ä¸­æ–­å†…éƒ¨ï¼Œä¼šå¾ˆå¤§ç¨‹åº¦å½±å“é¢‘ç‡å¹¶ä
             -¸”ä¼šé˜»æ–­ä¸»å‡½æ•°çš„è¿è¡Œ 
 143   2          Buzzer = !Buzzer;
 144   2        }
 145   1      }   
C51 COMPILER V9.54   MAIN                                                                  12/03/2025 06:50:20 PAGE 4   



MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    154    ----
   CONSTANT SIZE    =   3394    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     69    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
